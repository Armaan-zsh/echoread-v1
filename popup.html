<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EchoRead</title>
  <style>
    body { 
      width: 260px; 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #1a1a1a; color: #e0e0e0; margin: 0; padding: 0;
    }
    
    h3 { 
      text-align: center; margin: 0; padding: 16px 0 12px 0;
      font-size: 16px; font-weight: 500; color: #f0f0f0;
    }
    
    button {
      width: 92%; padding: 8px 12px; font-size: 12px; margin: 3px 4%;
      cursor: pointer; border: none; border-radius: 4px;
      font-weight: 400; transition: all 0.15s ease;
      display: flex; align-items: center; justify-content: center; gap: 6px;
      height: 32px;
    }
    
    button:hover { background-color: #333 !important; }
    button:active { transform: scale(0.98); }
    
    .primary-btn { background: #2d2d2d; color: #4CAF50; border: 1px solid #4CAF50; }
    .primary-btn:hover { background: #4CAF50 !important; color: white !important; }
    
    .secondary-btn { background: #2d2d2d; color: #ccc; border: 1px solid #444; }
    .secondary-btn:hover { background: #333 !important; color: white !important; }
    
    .theme-btn { background: #2d2d2d; color: #888; border: 1px solid #444; }
    .theme-btn:hover { background: #333 !important; color: #ccc !important; }
    
    .control-group {
      margin: 12px 4%; border-top: 1px solid #333;
      padding-top: 10px;
    }
    
    .control-group label { 
      font-size: 11px; color: #888;
      display: block; margin-bottom: 6px;
    }
    
    input[type="range"] {
      width: 90%; margin: 0 5%;
    }
    
    #html-controls, #pdf-controls, #status-message {
      display: none;
    }
    
    #status-message {
      font-size: 12px; text-align: center; padding: 16px;
      color: #888;
    }
    
    button:disabled { 
      background: #1a1a1a !important; 
      cursor: not-allowed; opacity: 0.4; color: #555 !important;
    }
  </style>
</head>
<body>
  <h3>EchoRead v4.0</h3>

  <div id="pdf-controls">
    <button id="convert-pdf-btn" class="primary-btn">
      <span>ðŸ“š</span> Convert PDF (OCR)
    </button>
    
    <button id="save-pdf-btn" class="primary-btn">
      <span>ðŸ’¾</span> Save to Library
    </button>
    
    <button id="view-library-btn-pdf" class="secondary-btn">
      <span>ðŸ“š</span> View Library
    </button>
    
    <p style="font-size: 12px; text-align: center; color: rgba(255,255,255,0.8); margin: 15px 5%;">
      Convert with OCR or save directly to library
    </p>
  </div>

  <div id="html-controls">
    <button id="clean-view-btn" class="primary-btn">
      <span>ðŸ“–</span> Focus Mode
    </button>
    
    <button id="save-to-library-btn" class="primary-btn">
      <span>ðŸ’¾</span> Save to Library
    </button>
    
    <div class="control-group">
      <button id="eink-toggle-btn" class="theme-btn">
        <span>ðŸ“„</span> E Ink Mode
      </button>
      <button id="amoled-toggle-btn" class="theme-btn">
        <span>ðŸŒ™</span> AMOLED Mode
      </button>
    </div>
    
    <div class="control-group">
      <button id="font-toggle-btn" class="secondary-btn">
        <span>Aa</span> Toggle Font
      </button>
      <label for="contrast-slider">Contrast Level</label>
      <input type="range" id="contrast-slider" min="1" max="5" step="1" value="3">
    </div>
    
    <div class="control-group">
      <label for="line-height-slider">Line Height</label>
      <input type="range" id="line-height-slider" min="1" max="3" step="0.1" value="1.5">
      <label for="letter-spacing-slider">Letter Spacing</label>
      <input type="range" id="letter-spacing-slider" min="0" max="10" step="0.5" value="0">
    </div>
    
    <button id="view-library-btn" class="secondary-btn">
      <span>ðŸ“š</span> View Library
    </button>
  </div>

  <div id="status-message">
    <p>Checking page...</p>
  </div>

  <script src="popup-beast.js"></script>
</body>
</html>
