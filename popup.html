<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EchoRead</title>
  <style>
    body { 
      width: 280px; 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white; margin: 0; padding: 0;
    }
    
    h3 { 
      text-align: center; margin: 0; padding: 20px 0 15px 0;
      font-size: 20px; font-weight: 600;
    }
    
    button {
      width: 90%; padding: 12px; font-size: 14px; margin: 6px 5%;
      cursor: pointer; border: none; border-radius: 8px;
      font-weight: 500; transition: all 0.2s ease;
      display: flex; align-items: center; justify-content: center; gap: 8px;
    }
    
    button:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
    button:active { transform: translateY(0); }
    
    .primary-btn { background: #4CAF50; color: white; }
    .primary-btn:hover { background: #45a049; }
    
    .secondary-btn { background: rgba(255,255,255,0.15); color: white; }
    .secondary-btn:hover { background: rgba(255,255,255,0.25); }
    
    .danger-btn { background: #f44336; color: white; }
    .danger-btn:hover { background: #d32f2f; }
    
    .theme-btn { background: rgba(255,255,255,0.1); color: white; }
    .theme-btn:hover { background: rgba(255,255,255,0.2); }
    
    .control-group {
      margin: 15px 5%; border-top: 1px solid rgba(255,255,255,0.2);
      padding-top: 15px;
    }
    
    .control-group label { 
      font-size: 13px; color: rgba(255,255,255,0.9);
      display: block; margin-bottom: 8px;
    }
    
    input[type="range"] {
      width: 90%; margin: 0 5%;
    }
    
    #html-controls, #pdf-controls, #status-message {
      display: none;
    }
    
    #status-message {
      font-size: 13px; text-align: center; padding: 20px;
      color: rgba(255,255,255,0.8);
    }
    
    button:disabled { 
      background: rgba(255,255,255,0.1) !important; 
      cursor: not-allowed; opacity: 0.5;
    }
  </style>
</head>
<body>
  <h3>EchoRead v4.0</h3>

  <div id="pdf-controls">
    <button id="convert-pdf-btn" class="primary-btn">
      <span>ðŸ“š</span> Convert PDF (OCR)
    </button>
    
    <button id="save-pdf-btn" class="primary-btn">
      <span>ðŸ’¾</span> Save to Library
    </button>
    
    <button id="view-library-btn-pdf" class="secondary-btn">
      <span>ðŸ“š</span> View Library
    </button>
    
    <p style="font-size: 12px; text-align: center; color: rgba(255,255,255,0.8); margin: 15px 5%;">
      Convert with OCR or save directly to library
    </p>
  </div>

  <div id="html-controls">
    <button id="clean-view-btn" class="primary-btn">
      <span>ðŸ“–</span> Focus Mode
    </button>
    
    <button id="save-to-library-btn" class="primary-btn">
      <span>ðŸ’¾</span> Save to Library
    </button>
    
    <div class="control-group">
      <button id="eink-toggle-btn" class="theme-btn">
        <span>ðŸ“„</span> E Ink Mode
      </button>
      <button id="amoled-toggle-btn" class="theme-btn">
        <span>ðŸŒ™</span> AMOLED Mode
      </button>
    </div>
    
    <div class="control-group">
      <button id="font-toggle-btn" class="secondary-btn">
        <span>Aa</span> Toggle Font
      </button>
      <label for="contrast-slider">Contrast Level</label>
      <input type="range" id="contrast-slider" min="1" max="5" step="1" value="3">
    </div>
    
    <div class="control-group">
      <label for="line-height-slider">Line Height</label>
      <input type="range" id="line-height-slider" min="1" max="3" step="0.1" value="1.5">
      <label for="letter-spacing-slider">Letter Spacing</label>
      <input type="range" id="letter-spacing-slider" min="0" max="10" step="0.5" value="0">
    </div>
    
    <button id="view-library-btn" class="secondary-btn">
      <span>ðŸ“š</span> View Library
    </button>
  </div>

  <div id="status-message">
    <p>Checking page...</p>
  </div>

  <script src="popup-beast.js"></script>
</body>
</html>
